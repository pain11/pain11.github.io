{"ast":null,"code":"import _regeneratorRuntime from \"/home/rahul/react-projects/list-restaurants/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/rahul/react-projects/list-restaurants/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/rahul/react-projects/list-restaurants/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/rahul/react-projects/list-restaurants/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/rahul/react-projects/list-restaurants/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/rahul/react-projects/list-restaurants/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/rahul/react-projects/list-restaurants/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/rahul/react-projects/list-restaurants/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/rahul/react-projects/list-restaurants/src/ListRestaurants.js\";\nimport React from 'react';\nimport { Card, CardBody, CardImg, CardTitle, CardSubtitle, CardText } from 'reactstrap';\nimport Papa from 'papaparse';\nimport Logo from './restaurant.png';\nimport Csv from './restaurants.csv';\n\nvar ListRestaurants =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ListRestaurants, _React$Component);\n\n  function ListRestaurants(props) {\n    var _this;\n\n    _classCallCheck(this, ListRestaurants);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ListRestaurants).call(this, props));\n    _this.state = {\n      data: []\n    };\n    _this.updateData = _this.updateData.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ListRestaurants, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.parseCsv();\n    }\n  }, {\n    key: \"parseCsv\",\n    value: function () {\n      var _parseCsv = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var file;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.fetchCsv();\n\n              case 2:\n                file = _context.sent;\n                debugger;\n                Papa.parse(file, {\n                  delimiter: ',',\n                  preview: 0,\n                  complete: this.updateData,\n                  header: true,\n                  encoding: 'default'\n                });\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function parseCsv() {\n        return _parseCsv.apply(this, arguments);\n      }\n\n      return parseCsv;\n    }()\n  }, {\n    key: \"fetchCsv\",\n    value: function fetchCsv() {\n      return fetch('./restaurants.csv').then(function (response) {\n        var reader = response.body.getReader();\n        var decoder = new TextDecoder('utf-8');\n        return reader.read().then(function (result) {\n          return decoder.decode(result.value);\n        });\n      });\n    }\n  }, {\n    key: \"updateData\",\n    value: function updateData(updatedData) {\n      console.log(updatedData);\n      this.setState({\n        data: updatedData.data\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"page-header d-flex align-items-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"mr-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, \"Restaurants\"))), React.createElement(\"div\", {\n        className: \"page-content d-flex align-items-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(CardImg, {\n        top: true,\n        width: \"100%\",\n        src: \"https://placeholdit.imgix.net/~text?txtsize=33&txt=318%C3%97180&w=318&h=180\",\n        alt: \"Card image cap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }), React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(CardTitle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"Card title\"), React.createElement(CardSubtitle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"Card subtitle\"), React.createElement(CardText, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"Some quick example text to build on the card title and make up the bulk of the card's content.\")))))));\n    }\n  }]);\n\n  return ListRestaurants;\n}(React.Component);\n\nexport default ListRestaurants;","map":{"version":3,"sources":["/home/rahul/react-projects/list-restaurants/src/ListRestaurants.js"],"names":["React","Card","CardBody","CardImg","CardTitle","CardSubtitle","CardText","Papa","Logo","Csv","ListRestaurants","props","state","data","updateData","bind","parseCsv","fetchCsv","file","parse","delimiter","preview","complete","header","encoding","fetch","then","response","reader","body","getReader","decoder","TextDecoder","read","result","decode","value","updatedData","console","log","setState","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {\n  Card, CardBody, CardImg, CardTitle, CardSubtitle, CardText\n} from 'reactstrap';\nimport Papa from 'papaparse'\nimport Logo from './restaurant.png';\nimport Csv from './restaurants.csv';\n\nclass ListRestaurants extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n    }\n    this.updateData = this.updateData.bind(this);\n  }\n\n  componentWillMount() {\n    this.parseCsv();\n  }\n\n  async parseCsv() {\n    const file = await this.fetchCsv();\n    debugger\n    Papa.parse(file, {\n      delimiter: ',',\n      preview: 0,\n      complete: this.updateData,\n      header: true,\n      encoding: 'default',\n\n    });\n  }\n\n  fetchCsv() {\n    return fetch('./restaurants.csv').then(function (response) {\n      let reader = response.body.getReader();\n      let decoder = new TextDecoder('utf-8');\n\n      return reader.read().then(function (result) {\n        return decoder.decode(result.value);\n      });\n    });\n  }\n\n  updateData(updatedData) {\n    console.log(updatedData);\n    this.setState({ data: updatedData.data });\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <div className='page-header d-flex align-items-center'>\n          <div className='mr-auto'>\n            <h2>Restaurants</h2>\n          </div>\n        </div>\n        <div className='page-content d-flex align-items-center'>\n          <Card>\n            <CardBody>\n              <Card>\n                <CardImg top width=\"100%\" src=\"https://placeholdit.imgix.net/~text?txtsize=33&txt=318%C3%97180&w=318&h=180\" alt=\"Card image cap\" />\n                <CardBody>\n                  <CardTitle>Card title</CardTitle>\n                  <CardSubtitle>Card subtitle</CardSubtitle>\n                  <CardText>Some quick example text to build on the card title and make up the bulk of the card's content.</CardText>\n                </CardBody>\n              </Card>\n            </CardBody>\n          </Card>\n        </div>\n      </React.Fragment>\n    )\n  }\n}\n\nexport default ListRestaurants;\n"]},"metadata":{},"sourceType":"module"}